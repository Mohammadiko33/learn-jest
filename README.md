## **Jest ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช**

### **ุชุนุฑู**

Jest ฺฉ ูุฑูโูุฑฺฉ ุชุณุช (Testing Framework) ุจุฑุง ุฌุงูุงุงุณฺฉุฑูพุช ุงุณุช ฺฉู ุชูุณุท ุดุฑฺฉุช **Facebook** ุชูุณุนู ุงูุชู ุงุณุช. ุงู ุงุจุฒุงุฑ ุจุฑุง ุชุณุช ุจุฑูุงููโูุง **React** ู **Node.js** ุจุณุงุฑ ูุญุจูุจ ุงุณุช. ูุฏู Jest ุงู ุงุณุช ฺฉู ุชูุณุนูโุฏููุฏฺฏุงู ุจุชูุงููุฏ ฺฉุฏูุง ุฎูุฏ ุฑุง ุจูโุตูุฑุช **ุฎูุฏฺฉุงุฑ ู ูุงุจู ุงุนุชูุงุฏ** ุชุณุช ฺฉููุฏ.

### **ูฺฺฏโูุง ููู Jest**

1. **ุขุณุงู ุจุฑุง ุงุณุชูุงุฏู:** ุจุง ุฏุณุชูุฑ ุณุงุฏู ูโุชูุงู ุชุณุช ููุดุช ู ุงุฌุฑุง ฺฉุฑุฏ.
2. **ุดุจูโุณุงุฒ (Mocking):** ุงูฺฉุงู ุดุจูโุณุงุฒ ุชูุงุจุน ู ูุงฺููโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.
3. **ูพูุดุด ฺฉุฏ (Code Coverage):** ฺฏุฒุงุฑุด ูโุฏูุฏ ฺฉู ฺู ุจุฎุดโูุง ุงุฒ ฺฉุฏ ุดูุง ุชุณุช ุดุฏูโุงูุฏ.
4. **ุชุณุช ูุงุญุฏ ู ุงูุชฺฏุฑุงู:** ูู ุจุฑุง ุชุณุช ูุงุญุฏ (Unit Test) ู ูู ุจุฑุง ุชุณุชโูุง ุชุฑฺฉุจ ููุงุณุจ ุงุณุช.

---

### **ูุญูู ูุตุจ Jest**

ุจุฑุง ูุตุจ Jest ุฏุฑ ูพุฑูฺู Node.js:

```bash
npm install --save-dev jest
```

ุฏุฑ ูุงู `package.json` ูโุชูุงูู ุงุณฺฉุฑูพุช ุฒุฑ ุฑุง ุงุถุงูู ฺฉูู:

```json
"scripts": {
  "test": "jest"
}
```

---

### **ูุซุงู ุณุงุฏู**

ูุฑุถ ฺฉูุฏ ฺฉ ูุงู ุฏุงุฑู ุจู ูุงู `sum.js`:

```javascript
function sum(a, b) {
  return a + b;
}

module.exports = sum;
```

ฺฉ ูุงู ุชุณุช ุจู ูุงู `sum.test.js` ูโููุณู:

```javascript
const sum = require('./sum');

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

**ุชูุถุญ ฺฉุฏ ุชุณุช:**

* `test` ฺฉ ุชุงุจุน ุงุณุช ฺฉู ฺฉ **ุชูุถุญ ุชุณุช** ู ฺฉ **ุชุงุจุน ุชุณุช** ูโฺฏุฑุฏ.
* `expect` ููุฏุงุฑ ฺฉู ุจุฑฺฏุฑุฏุงูุฏู ุดุฏู ุฑุง ุจุง **ููุฏุงุฑ ููุฑุฏ ุงูุชุธุงุฑ** ููุงุณู ูโฺฉูุฏ.
* `toBe` ุจุฑุง ููุงุณู ุฏูู ุงุณุชูุงุฏู ูโุดูุฏ.

ุจุฑุง ุงุฌุฑุง ุชุณุชุ ฺฉุงู ุงุณุช ุฏุณุชูุฑ ุฒุฑ ุฑุง ุฏุฑ ุชุฑููุงู ูุงุฑุฏ ฺฉูุฏ:

```bash
npm test
```

---

### **ูุชุฌู**

Jest ุจุงุนุซ ูโุดูุฏ ุชูุณุนูโุฏููุฏฺฏุงู:

* ุฑุงุญุชโุชุฑ ุฎุทุงูุง ุฑุง ูพุฏุง ฺฉููุฏุ
* ุงุทููุงู ุญุงุตู ฺฉููุฏ ฺฉู ุชุบุฑุงุช ุฌุฏุฏุ ฺฉุฏ ูุจู ุฑุง ุฎุฑุงุจ ูฺฉุฑุฏูโุงูุฏุ
* ู ุจุง ุณุฑุนุช ุจุดุชุฑ ฺฉุฏ ุจุง ฺฉูุช ุจุงูุง ุชููุฏ ฺฉููุฏ.

---

ุญุชูุงู! ูู ูุชู ุดูุง ุฑุง ุจู ฺฉ ูุณุฎู **ุณุงุฏูุ ุฑูุงู ู ุฎูุงุตู** ุชุจุฏู ฺฉุฑุฏู:

---

# **ุงููุงุน ุชุณุช ุฎูุฏฺฉุงุฑ ุฏุฑ ุจุฑูุงููโููุณ**

ุฏุฑ ุชุณุช ุฎูุฏฺฉุงุฑ ุณู ููุน ุงุตู ุฏุงุฑู:

1. **Unit Test (ุชุณุช ูุงุญุฏ)**
2. **Integration Test (ุชุณุช ฺฉูพุงุฑฺฺฏ)**
3. **End-to-End Test (ุชุณุช ุงูุชูุง ุจู ุงูุชูุง)**

---

## **1. Unit Test (ุชุณุช ูุงุญุฏ)**

* ุชูุฑฺฉุฒ ุฑู **ฺฉ ุจุฎุด ฺฉูฺฺฉ ุงุฒ ุจุฑูุงูู** ูุซู ฺฉ ุชุงุจุน ุง ฺฉูุงุณ ุงุณุช.
* **ุจุฏูู ูุงุจุณุชฺฏ ุจู ููุงุจุน ุฎุงุฑุฌ** ูุซู ุฏุชุงุจุณ ุง API ุงูุฌุงู ูโุดูุฏ.
* ุงฺฏุฑ ุชุงุจุน ูุงุฒ ุจู ุฏุงุฏู ุงุฒ ุจุฑูู ุฏุงุฑุฏุ ุขู ุจุฎุด ุฑุง ุจุง **Mock** ุดุจูโุณุงุฒ ูโฺฉูู.
* **ูุฒุช:** ุณุฑุน ู ุฑุงุญุช ุงุฌุฑุง ูโุดูุฏุ ูโุชูุงู ุตุฏูุง ุชุณุช ุฑุง ุฏุฑ ฺูุฏ ุซุงูู ุงุฌุฑุง ฺฉุฑุฏ.
* **ูุนุงุจ:** ฺูู ููุงุจุน ุฎุงุฑุฌ ุชุณุช ููโุดููุฏุ **ุงุนุชูุงุฏ ฺฉุงูู ููโุฏููุฏ**.

**ุฎูุงุตู:** ููุช ุชุณุช ุนู ุชุณุช ฺฉุฑุฏู ููุงู ุจุฎุด ฺฉูฺฺฉ ุจุฑูุงููุ ุจุฏูู ุงุชุตุงู ุจู ฺุฒ ุฎุงุฑุฌ ุงุฒ ุขู.

---

## **2. Integration Test (ุชุณุช ฺฉูพุงุฑฺฺฏ)**

* ุจุฑุฎูุงู ููุช ุชุณุชุ ุงู ุชุณุช **ุจุง ููุงุจุน ุฎุงุฑุฌ ูุงูุน** ฺฉุงุฑ ูโฺฉูุฏุ ูุซู ุฏุชุงุจุณ ุง ุณุฑูุณโูุง ุฏฺฏุฑ.
* **ุฒูุงูโุจุฑุชุฑ** ุงุณุชุ ฺูู ูุงุฒ ุจู ุฎูุงูุฏู ู ููุดุชู ุฏุงุฏู ุงุฒ ููุงุจุน ูุงูุน ุฏุงุฑุฏ.
* **ูุฒุช:** ุงุนุชูุงุฏ ุจุดุชุฑ ูุณุจุช ุจู ุนููฺฉุฑุฏ ูุงูุน ุจุฑูุงูู ูโุฏูุฏ.
* ูฺฉุชู ููู: ููุท ุฏุงุดุชู ฺูุฏ ฺฉูุงุณ ุจุงูู ฺฉุงู ูุณุชุ ุดุฑุท ุงู ุชุณุช **ุงุฑุชุจุงุท ุจุง ููุงุจุน ุฎุงุฑุฌ** ุงุณุช.

---

## **3. End-to-End Test (ุชุณุช ุงูุชูุง ุจู ุงูุชูุง)**

* ุจุฑูุงูู ุฑุง **ุงุฒ ุทุฑู ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงูุน** ุชุณุช ูโฺฉูุฏุ ุฏุฑุณุช ูุซู ฺฉ ฺฉุงุฑุจุฑ ูุงูุน.
* ุดุงูู ุจุงูุง ุขูุฑุฏู ุจุฑูุงููุ ูุฑูุฏ ุงุทูุงุนุงุชุ ุงุญุฑุงุฒ ููุชุ ูพุฑ ฺฉุฑุฏู ูุฑูโูุง ู ุฏุฑุงูุช ูุชุฌู ุงุณุช.
* **ุจุดุชุฑู ุงุนุชูุงุฏ ุฑุง ุฏุงุฑุฏ**ุ ุงูุง **ุฎู ุฒูุงูโุจุฑ ุงุณุช**.
* ูุนูููุงู ุจุง ุงุจุฒุงุฑูุง ู ุงูุฒูููโูุง ูุฎุตูุต ุชุณุช ุฑุงุจุท ฺฉุงุฑุจุฑ ุงูุฌุงู ูโุดูุฏ.

---

# **ฺู ุฒูุงู ุงุฒ ูุฑ ููุน ุชุณุช ุงุณุชูุงุฏู ฺฉููุ**

* **Unit Test (ุชุณุช ูุงุญุฏ):**

  * ููุงุณุจ ุจุฑุง **ููุทู ุจุฑูุงูู** ุงุณุช.
  * ุจุฑุง ุจุฑุฑุณ **ุดุฑุทโูุงุ ุญูููโูุง ู ุงูฺฏูุฑุชูโูุง ูพฺุฏู** ุจุณุงุฑ ุฎูุจ ุนูู ูโฺฉูุฏ.
  * ุงฺฏุฑ ุจุฎุด ุงุฒ ุจุฑูุงูู ุฏุงุฑุง **ููุทู ุงูฺฏูุฑุชู** ุงุณุชุ ุญุชูุงู ุจุงุฏ ุจุง ููุช ุชุณุช ูพูุดุด ุฏุงุฏู ุดูุฏ.

* **Integration Test (ุชุณุช ฺฉูพุงุฑฺฺฏ):**

  * ุจุฑุง ุจุฎุดโูุง ฺฉู ุงูฺฏูุฑุชู ุฎุงุต ูุฏุงุฑูุฏุ
  * ุง ููุท **ุฎูุงูุฏู/ููุดุชู ุงุทูุงุนุงุช ุงุฒ ุฏุชุงุจุณ** ุงูุฌุงู ูโุฏููุฏุ
  * ุงุณุชูุงุฏู ูโุดูุฏ.
  * ุงู ุชุณุช ุจุงุนุซ ุงุทููุงู ุงุฒ ุนููฺฉุฑุฏ ูุงูุน ุจุง ููุงุจุน ุฎุงุฑุฌ ูโุดูุฏ.

* **End-to-End Test (ุชุณุช ุงูุชูุง ุจู ุงูุชูุง):**

  * ุจุฑุง ุงุทููุงู ุจุดุชุฑุ ูโุชูุงู **ููุฏุงุฑ E2E** ูู ุงุถุงูู ฺฉุฑุฏ.
  * ุงู ุชุณุช ุชุถูู ูโฺฉูุฏ ุจุฑูุงูู ุฏุฑ **ฺฉู ูุณุฑ ูุงูุน** ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.

**ุฎูุงุตู:**

> ุงูฺฏูุฑุชูโูุง โ ููุช ุชุณุช

> ุฏุชุงุจุณ ู ููุงุจุน ุฎุงุฑุฌ โ ุงูุชุฑฺฏุฑุดู ุชุณุช

> ูุณุฑ ฺฉุงูู ฺฉุงุฑุจุฑ โ ุงูุฏ ุชู ุงูุฏ ุชุณุช

---

ุญุชูุงู! ุงูู ฺฉ ุชูุถุญ ุณุงุฏู ุฏุฑุจุงุฑูโ ุชุณุช ฺฉู ููุดุช ูโุฏูู ู ุจุนุฏ ูุชุฏูุง ุขุฎุฑ ุฑุง ุจุง ูุซุงู ฺฉูุชุงู ู ุณุงุฏู ุดุฑุญ ูโุฏูู.

---


```javascript
const gte = require("../app")
```

ุงู ุฎุท ุชุงุจุน `gte` ุฑุง ุงุฒ ูุงู `app.js` ูุงุฑุฏ ูโฺฉูุฏ.

```javascript
test("gte - should return true if a is grater than b", () => {
    const res = gte(10,9);
    expect(9).toBe(8);
});
```

* `test` ฺฉ ุชุณุช ุฌุฏุฏ ุชุนุฑู ูโฺฉูุฏ.
* `expect` ุจุฑุง **ููุงุณู ูุชุฌู ูุงูุน ุจุง ููุฏุงุฑ ููุฑุฏ ุงูุชุธุงุฑ** ุงุณุชูุงุฏู ูโุดูุฏ.
* ูฺฉุชู: ุฏุฑ ุงูุฌุง ููุงุฏุฑ `expect(9).toBe(8)` ู `expect(6).toBe(7)` ุงุดุชุจุงู ูุณุชูุฏุ ฺูู ููุดู **ุงู ุชุณุชโูุง ุดฺฉุณุช ูโุฎูุฑูุฏ**. ุฏุฑุณุชุด ุจุงุฏ ูุซู ุงู ุจุงุดุฏ:

```javascript
expect(res).toBe(true);  // ููุช 10 >= 9
```

---

## **ูุชุฏูุง Jest ู ูุซุงู ุณุงุฏู**

### 1. `.toBeNull()`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **null** ุจุงุดุฏ.

```javascript
expect(null).toBeNull();
```

### 2. `.toBeUndefined()`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **undefined** ุจุงุดุฏ.

```javascript
let a;
expect(a).toBeUndefined();
```

### 3. `.toBeDefined()`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **ุชุนุฑู ุดุฏู** ุจุงุดุฏ (ูู undefined).

```javascript
let a = 5;
expect(a).toBeDefined();
```

### 4. `.toBeTruthy()`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **ุฏุฑ ุดุฑุท if ุฏุฑุณุช** ุจุงุดุฏ.

```javascript
expect(true).toBeTruthy();
expect(1).toBeTruthy();
```

### 5. `.toBeFalsy()`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **ุฏุฑ ุดุฑุท if ุบูุท** ุจุงุดุฏ.

```javascript
expect(false).toBeFalsy();
expect(0).toBeFalsy();
```

### 6. `.toBeGreaterThan(number)`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ ุจุฒุฑฺฏโุชุฑ ุงุฒ ุนุฏุฏ ุฏุงุฏู ุดุฏู ุจุงุดุฏ.

```javascript
expect(10).toBeGreaterThan(5);
```

### 7. `.toBeGreaterThanOrEqual(number)`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **ุจุฒุฑฺฏโุชุฑ ุง ูุณุงู** ุนุฏุฏ ุจุงุดุฏ.

```javascript
expect(10).toBeGreaterThanOrEqual(10);
```

### 8. `.toBeLessThan(number)`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ ฺฉูฺฺฉโุชุฑ ุงุฒ ุนุฏุฏ ุจุงุดุฏ.

```javascript
expect(5).toBeLessThan(10);
```

### 9. `.toBeLessThanOrEqual(number)`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **ฺฉูุชุฑ ุง ูุณุงู** ุนุฏุฏ ุจุงุดุฏ.

```javascript
expect(5).toBeLessThanOrEqual(5);
```

### 10. `.toBeCloseTo(number, numDigits?)`

ฺฺฉ ูโฺฉูุฏ ููุฏุงุฑ **ุชูุฑุจุงู ุจุฑุงุจุฑ** ุนุฏุฏ ุจุงุดุฏ (ุจุฑุง ุงุนุฏุงุฏ ุงุนุดุงุฑ).

```javascript
expect(0.1 + 0.2).toBeCloseTo(0.3);
```

---

ุฎู ุนุงู ูพุด ุฑูุช ๐
ุงูุงู ุฏุงุฑ ุงุฒ ฺูุฏ ุชุงุจุน (`gte`, `welcomeMessage`, `shoppingList`, `getUser`) ุงุณุชูุงุฏู ูโฺฉู ู ุจุฑุง ูุฑฺฉุฏูู **ุชุณุชโูุง ููุช** ููุดุช.
ูู ุชุบุฑุงุช ู ูฺฉุงุช ฺฉู ุฏุฑ ฺฉุฏุช ูุณุช ุฑุง ูุฑุญููโุจูโูุฑุญูู ุชูุถุญ ูโุฏู ู ูุชุฏูุง ุขุฎุฑ (`.toEqual`, `.toMatchObject`, `.toHaveProperty`) ุฑู ูู ุขููุฒุด ูโุฏู.

---

## 1. **ุชุบุฑ ุงุฒ `test` ุจู `describe/it`**

```js
describe("gte", () => {
  it("should return true if a is greater than b", () => {
    const res = gte(10, 9);
    expect(res).toBe(true);
  });
});
```

* `describe` ุจุฑุง **ฺฏุฑููโุจูุฏ ุชุณุชโูุง** ุงุณุชูุงุฏู ูุดู. (ูุซู ฺฉ ูพูุดู ุจุฑุง ูุฑ ุจุฎุด ฺฉุฏ)
* `it` ูุดุงุจู `test` ูุณุชุ ูู ุฎูุงูุง ุจุดุชุฑ ุจู ุชุณุช ูุฏู.
  ุนู "it should return true ..." ูุดู ฺฉ ุฌููู ฺฉุงูู.

---

## 2. **ุชุณุช ุชุงุจุน `gte`**

```js
function gte(num1, num2) {
  return num1 >= num2 ? true : false;
}
```

* ุงู ุชุงุจุน ุณุงุฏูโุชุฑ ุดุฏู (ุจุง **ุนููฺฏุฑ ุณูโุชุง**) ู ุฎุฑูุฌ ููุท `true` ุง `false` ูุณุช.
* ุชุณุชโูุง ุจุฑุฑุณ ูโฺฉูู ุขุง **ุจุฒุฑฺฏุชุฑ** ุง **ฺฉูฺฺฉุชุฑ** ุฏุฑุณุช ุนูู ูโฺฉูู.

---

## 3. **ุชุณุช ุชุงุจุน `welcomeMessage`**

```js
const welcomeMessage = (name) => `Hello ${name}. welcome to jest tutoral`;

it("should return a welcome message containing the name", () => {
  const res = welcomeMessage("Mohammad");
  expect(res).toContain("Mohammad"); 
});
```

* ุงูุฌุง ุงุฒ **`.toContain`** ุงุณุชูุงุฏู ฺฉุฑุฏ.
* `.toContain` ฺฺฉ ูโฺฉูู ุฑุดุชู ุง ุขุฑุงู ุดุงูู ููุฏุงุฑ ููุฑุฏ ูุธุฑ ุจุงุดู.
* ุฎูุจ ุจุฑุง ุชุณุช ูุชูโูุง ุฏุงูุงูฺฉ (ูุซู ุงุณู ฺฉุงุฑุจุฑ) ุงุณุชูุงุฏู ูุดู.

---

## 4. **ุชุณุช ุชุงุจุน `shoppingList`**

```js
function shoppingList() {
  return ["diseart", "cake", "cupcake"];
}

it("array coffe shop", () => {
  const result = shoppingList();
  expect(result).toContain("cupcake");
});
```

* ุงู ุชุณุช ุจุฑุฑุณ ูโฺฉูู ุขุฑุงู ุดุงูู `"cupcake"` ุจุงุดู.
* ุจุงุฒ ูู **`.toContain`** ุงูุฌุง ุจู ฺฉุงุฑ ุงููุฏู ุจุฑุง ฺฺฉ ฺฉุฑุฏู ูุฌูุฏ ููุฏุงุฑ ุฏุงุฎู ุขุฑุงู.

---

## 5. **ุชุณุช ุชุงุจุน `getUser`**

```js
function getUser(){
  return {
    id: 1,
    name: "mohammad"
  }
}
```

ุงูุฌุง ฺฉ ูฺฉุชู ููู ูุณุช โฌ๏ธ
ุชู ููุดุช:

```js
expect(res).toBe({
  id: 1,
  name: "mohammad",
});
```

โ ูู `.toBe` ุจุฑุง ููุงุณู **ููุงุฏุฑ ุณุงุฏู (primitive)** ูุซู ุนุฏุฏ ู ุฑุดุชู ูุณุช.
ุจุฑุง ููุงุณู **ุขุจุฌฺฉุชโูุง ุง ุขุฑุงูโูุง** ุจุงุฏ ุงุฒ `.toEqual` ุงุณุชูุงุฏู ฺฉู.

โ ุฏุฑุณุชุด ุงู ูุดู:

```js
expect(res).toEqual({
  id: 1,
  name: "mohammad"
});
```

---

## 6. **ูุชุฏูุง ุฌุฏุฏ Jest**

### ๐น `.toEqual(object)`

ุจุฑุง ููุงุณู **ุขุจุฌฺฉุช ุง ุขุฑุงู** ุจูโุทูุฑ ฺฉุงูู.

```js
expect(getUser()).toEqual({ id: 1, name: "mohammad" });
```

---

### ๐น `.toMatchObject(partialObject)`

ุจุฑุง ููุช ฺฉู ููุท ูโุฎูุง ุจุฎุด ุงุฒ ุขุจุฌฺฉุช ุฑู ฺฺฉ ฺฉู.

```js
expect(getUser()).toMatchObject({ name: "mohammad" });
```

ุงูุฌุง ููุท ูุฌูุฏ ฺฉูุฏ `name` ุจุง ููุฏุงุฑ `"mohammad"` ุจุฑุฑุณ ูุดู ู ูุงุฒ ูุณุช ูููโ ุขุจุฌฺฉุช ุจุฑุงุจุฑ ุจุงุดู.

---

### ๐น `.toHaveProperty(key, value?)`

ุจุฑุง ุจุฑุฑุณ ุงูฺฉู ฺฉ ุขุจุฌฺฉุช **ููุงู ูพุฑุงูพุฑุช** ุฑู ุฏุงุฑู ุง ูู.

```js
expect(getUser()).toHaveProperty("id"); 
expect(getUser()).toHaveProperty("name", "mohammad");
```

---

โ ูพุณ ุจูุชุฑู ุชุณุช `getUser` ุฑู ุงูุทูุฑ ุจุงุฒููุณ ฺฉูู:

```js
describe("get user", () => {
  it("should return user object", () => {
    const res = getUser();
    expect(res).toEqual({ id: 1, name: "mohammad" }); // ููุงุณู ฺฉุงูู
    expect(res).toMatchObject({ name: "mohammad" }); // ููุงุณู ุจุฎุด
    expect(res).toHaveProperty("id", 1); // ุจุฑุฑุณ ูุฌูุฏ ูพุฑุงูพุฑุช
  });
});
```

---

### ๐ ุฎูุงุตู ุชุบุฑุงุช:

* `describe/it` โ ฺฏุฑููโุจูุฏ ู ุฎูุงูุง ุจูุชุฑ ุชุณุชโูุง.
* `.toBe` โ ุจุฑุง ููุงุณู ููุงุฏุฑ ุณุงุฏู.
* `.toEqual` โ ุจุฑุง ููุงุณู ุขุจุฌฺฉุช/ุขุฑุงู.
* `.toMatchObject` โ ููุช ููุท ุจุฎุด ุงุฒ ุขุจุฌฺฉุช ูููู.
* `.toHaveProperty` โ ููุช ููุท ูโุฎูุง ูุฌูุฏ ฺฉ ฺฉูุฏ (ุจุง ุง ุจุฏูู ููุฏุงุฑ) ุฑู ฺฺฉ ฺฉู.
* `.toContain` โ ุจุฑุง ุจุฑุฑุณ ูุฌูุฏ ฺฉ ููุฏุงุฑ ุฏุงุฎู ุฑุดุชู ุง ุขุฑุงู.

---

### ฑ. ุชุบุฑ ุฏุฑ ูุงูฺฉุดูโูุง

ุชู ู ูุงูฺฉุดู ุฌุฏุฏ ุจู ุงุณู **`login`** ุงุถุงูู ฺฉุฑุฏ:

```js
const login = (password) => 
  password === "1234" 
    ? { jwt: "GY@(YE(*@Y(!E*(&^!^E*&!^@E" } 
    : false
```

ุงู ูุงูฺฉุดู ูฺฏู:

* ุงฺฏู ูพุณูุฑุฏ ุฏุฑุณุช ุจุงุดู (`1234`)ุ ู **ุขุจุฌฺฉุช** ุดุงูู jwt ุจุฑูโฺฏุฑุฏููู.
* ุงฺฏู ูพุณูุฑุฏ ุบูุท ุจุงุดูุ ููุฏุงุฑ **false** ุจุฑูโฺฏุฑุฏููู.

---

### ฒ. ุชุบุฑ ุฏุฑ ุชุณุช **get user**

ูุจูุงู ููุท `expect(res)` ููุดุชู ุจูุฏ .
ุงูุงู ุงูุทูุฑ ุชุบุฑุด ุฏุงุฏ:

```js
expect(res).toHaveProperty("name", "mohammad");
```

๐น ุงู ุฏููุงู ฺฺฉ ูโฺฉูู ฺฉู ุฎุฑูุฌ `getUser()`
ฺฉ property ุจู ุงุณู `name` ุจุง ููุฏุงุฑ `"mohammad"` ุฏุงุดุชู ุจุงุดู.
ุงู ุฎู ุจูุชุฑ ู ุฏููโุชุฑ ุงุฒ ูุจูู โ

---

### ณ. ฺุฑุง ุฏูุชุง `it` ููุดุชุ

ุฏุฑ ุชุณุช **login** ุฏู ุญุงูุช ูุฎุชูู ุจุงุฏ ุจุฑุฑุณ ุจุดู:

1. ููุช ูพุณูุฑุฏ ุงุดุชุจุงูู โ ุจุงุฏ ุฎุทุง ุง ูุชุฌูโ ููุงุณุจ ุจุฏู.

   ```js
   it("should throw an error if password is wrong", () => {
     expect(() => login("1235")).toThrow()
   });
   ```

2. ููุช ูพุณูุฑุฏ ุฏุฑุณุชู โ ุจุงุฏ jwt ุจุฑฺฏุฑุฏููู.

   ```js
   it("should return jwt if password is correct", () => {
     const res = login("1234");
     expect(res).toHaveProperty("jwt");
   });
   ```

๐น ุฏููุด ุงูู ฺฉู **ูุฑ ุชุณุช (`it`) ููุท ุจุงุฏ ฺฉ ุฑูุชุงุฑ ูุดุฎุต ุฑู ุชุณุช ฺฉูู**.
ุงฺฏุฑ ูููโฺ ุฑู ุชู ฺฉ `it` ุจููุณุ ููุช ฺฉ ุงุฒ ุดุฑุทโูุง fail ุจุดูุ ูุดุฎุต ูุณุช ูุดฺฉู ุงุฒ ฺฉุฌุงุณุช.


----
---

## 1. ุณุงุฎุชุงุฑ ูพุฑูฺู

ุชู ุงู ูุฑุญูู ู ูพุฑูฺูโ ุฎู ุณุงุฏู ุจุง **ณ ูุงู** ููุดุช:

1. **service.js** โ ูุงูโ ุณุฑูุณ (ฺฉุงุฑ ุจุง ุฏุชุงุ ูุซู ฺฏุฑูุชู ฺฉุงุฑุจุฑ ุงุฒ ุฏุชุงุจุณ ุง ุงุฑุณุงู ุงูู)
2. **app.js** โ ูุงูโ ุงูพูฺฉุดู (ููุทู ุงุตูุ ูุซู ุญุณุงุจ ฺฉุฑุฏู ุชุฎูู)
3. **test/app.test.js** โ ูุงูโ ุชุณุช (ุจุง ุงุณุชูุงุฏู ุงุฒ Jest ููุทู ุฑู ุชุณุช ูโฺฉู)

ุงู ูุนูุงุฑ ุฏููุง ุดุจู ูพุฑูฺูโูุง ูุงูุน ุฏูุง ูุจ ูุณุช.

---

## 2. ูุงูฺฉุดู getUserById

```js
function getUserById(id) {
  console.log(`reading data from db with ${id} id`);
  const users = [
    { id: 1, name: "mohammad", purchasesCount: 5 },
    { id: 2, name: "amir", purchasesCount: 4 },
    { id: 3, name: "reza", purchasesCount: 6 },
  ];
  const data = users.find((item) => item.id === id);
  if (data) return data;
  throw new Error(`no user with id ${id}`);
}
```

### ฺู ฺฉุงุฑ ูโฺฉููุ

* ู ูุณุช ุงุฒ ฺฉุงุฑุจุฑุงู ูุฑุถ ุฏุงุฑู (ูุซู ุฏุชุงุจุณ ฺฉูฺฺฉ).
* ุฏูุจุงู ฺฉุงุฑุจุฑ ูโฺฏุฑุฏู ฺฉู id ุจุฑุงุจุฑ ุจุง ูุฑูุฏ ุจุงุดู.
* ุงฺฏุฑ ูพุฏุง ุดุฏ โ ูููู ฺฉุงุฑุจุฑ ุฑู ุจุฑูโฺฏุฑุฏููู.
* ุงฺฏุฑ ูพุฏุง ูุดุฏ โ ู ุฎุทุง (Error) ูพุฑุชุงุจ ูโฺฉูู.

๐ ุงู ุนู ูุฑ ููุช ุจุฎูุง ุงุทูุงุนุงุช ู ฺฉุงุฑุจุฑ ุฑู ุจุง id ุจฺฏุฑุ ุงู ุชุงุจุน ุฑู ุตุฏุง ูโุฒู.

---

## 3. ูุงูฺฉุดู sendEmail

```js
function sendEmail(name, email) {
  console.log(`username: ${name} , email : ${email} sent!`);
}
```

### ฺู ฺฉุงุฑ ูโฺฉููุ

* ุฎู ุณุงุฏู ููุท ู **log** ูุฒููุ ูฺฏู: ููุงู ุงูู ุจุฑุง ููุงู ฺฉุงุฑุจุฑ ูุฑุณุชุงุฏู ุดุฏ.
* ุชู ูพุฑูฺู ูุงูุน ุงูุฌุง ูุฑุงุฑู ุณุฑูุณ ุงูู ุตุฏุง ุฒุฏู ุจุดู (ูู ูุนูุง ุดุจูโุณุงุฒู).

---

## 4. ูุงูฺฉุดู calculateDiscount

```js
function calculateDiscount(id) {
  let discount = 0;
  const { purchasesCount, name } = getUserById(id);
  if (purchasesCount > 3) return 10;

  sendEmail(name, `you have got %${discount} percent discount`);
  return discount;
}
```

### ฺู ฺฉุงุฑ ูโฺฉููุ

* ู id ฺฉุงุฑุจุฑ ูโฺฏุฑู.
* ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุฑู ุงุฒ `getUserById` ูโฺฏุฑู.
* ุดุฑุท ูโุฐุงุฑู:

  * ุงฺฏู ุชุนุฏุงุฏ ุฎุฑุฏ (`purchasesCount`) ุจุดุชุฑ ุงุฒ ณ ุจุงุดู โ ุชุฎูู `10` ุจุฑฺฏุฑุฏูู.
  * ุฏุฑ ุบุฑ ุงู ุตูุฑุช โ ุงูู ุจุฒู (ุจุง ุฏุฑุตุฏ ุชุฎูู ุตูุฑ) ู ุชุฎูู `0` ุจุฑฺฏุฑุฏูู.

๐ ุงู ุชุงุจุน ุฏููุง **ููุทู ฺฉุณุจโูฺฉุงุฑ (Business Logic)** ุฑู ูพุงุฏูโุณุงุฒ ูโฺฉูู.

---

## 5. ฺุฑุง ุชุณุช ูโููุณูุ

ูุฏู ุชุณุช ุงูู ฺฉู ูุทูุฆู ุจุด ฺฉุฏ ฺฉู ููุดุช ุฏุฑุณุช ฺฉุงุฑ ูโฺฉููุ ุจุฏูู ุงูฺฉู ูุงูุนุง ุงูู ุจูุฑุณุชู ุง ุจู ุฏุชุงุจุณ ูุตู ุจุดู.
ุงูุฌุงุณุช ฺฉู **mock ฺฉุฑุฏู (ุดุจูโุณุงุฒ ฺฉุฑุฏู)** ุจู ฺฉุงุฑ ูุงุฏ.

---

## 6. ุชุณุช ุงูู

```js
it("should return 10 if user has more than 3 purchases", () => {
  getUserById.mockReturnValue({ id: 4, name: "john", purchasesCount: 7 });
  expect(calculateDiscount(4)).toBe(10);
});
```

### ฺู ฺฉุงุฑ ูโฺฉููุ

* ุชุงุจุน `getUserById` ุฑู **mock** ฺฉุฑุฏุ ุนู ุฏฺฏู ูุงูุนุง ุงุฒ ุฏุชุงุจุณ ูุฎูููุ ููุท ุจุฑฺฏุฑุฏููู:

  ```js
  { id: 4, name: "john", purchasesCount: 7 }
  ```
* ุจุนุฏ `calculateDiscount(4)` ุฑู ุตุฏุง ุฒุฏ.
* ฺูู ุฎุฑุฏูุง (`7`) ุจุดุชุฑ ุงุฒ ณ ูุณุชู โ ุฎุฑูุฌ ุจุงุฏ `10` ุจุงุดู.
* ุชุณุช ูููู ุงูุชุธุงุฑ ุฏุงุฑู (`toBe(10)`).

๐ ูุชุฌู: ุงู ุชุณุช ุฏุงุฑู **ุณูุงุฑู ุชุฎูู ฺฏุฑูุชู** ุฑู ุจุฑุฑุณ ูโฺฉูู.

---

## 7. ุชุณุช ุฏูู

```js
it("should return 0 and send email if user has 3 or fewer purchases", () => {
  getUserById.mockReturnValue({ id: 4, name: "john", purchasesCount: 2 });

  const result = calculateDiscount(4);

  expect(result).toBe(0);
  expect(sendEmail).toHaveBeenCalled();
  expect(sendEmail.mock.calls[0][0]).toBe("john");
  expect(sendEmail.mock.calls[0][1]).toContain("0 percent");
});
```

### ฺู ฺฉุงุฑ ูโฺฉููุ

* ุจุงุฒ ูู `getUserById` ุฑู mock ฺฉุฑุฏุ ูู ุงู ุจุงุฑ ุจุฑฺฏุฑุฏููุฏ:

  ```js
  { id: 4, name: "john", purchasesCount: 2 }
  ```
* ฺูู ุฎุฑุฏูุง (`2`) ฺฉูุชุฑ ุงุฒ ณ ูุณุชู โ ุชุฎูู ุจุงุฏ `0` ุจุงุดู.
* ุนูุงูู ุจุฑ ุงูุ ุชุงุจุน ุจุงุฏ ุงูู ุจุฒูู:

  * ุชุณุช ฺฺฉ ูโฺฉูู `sendEmail` ุตุฏุง ุฒุฏู ุดุฏู.
  * ุขุฑฺฏููุงู ุงูู (`name`) ุจุงุฏ `"john"` ุจุงุดู.
  * ุขุฑฺฏููุงู ุฏูู (`email message`) ุจุงุฏ ุดุงูู `"0 percent"` ุจุงุดู.

๐ ูุชุฌู: ุงู ุชุณุช ุฏุงุฑู **ุณูุงุฑู ุชุฎูู ูฺฏุฑูุชู** ุฑู ุจุฑุฑุณ ูโฺฉูู.

---

## 8. ูฺฉุชู ููู ุฏุฑ ุงู ุงูพุฒูุฏ

* **Mock ฺฉุฑุฏู** ุจุงุนุซ ุดุฏ ูุงุจุณุชฺฏ ุจู ุฏุชุงุจุณ ู ุงูู ูุงูุน ุฑู ุญุฐู ฺฉูู.
* ุชุณุชโูุงููู ููุท ููุทู ุงุตู ุฑู ฺฺฉ ูโฺฉูู.
* ูุฑ `it` ู ุณูุงุฑู ูุณุชูู ุฑู ุชุณุช ูโฺฉูู (ุฎู ูููู ุจุฑุง ุฎูุงูุง ู ุฏุจุงฺฏ).

---

## ๐ ุฎูุงุตูโ ุฎู ุณุงุฏู

* `getUserById`: ฺฉุงุฑุจุฑ ุฑู ุงุฒ ุฏุชุงุจุณ ูุฑุถ ุจุฑูโฺฏุฑุฏููู.
* `sendEmail`: ุงูู ูุฑุถ ูโูุฑุณุชู.
* `calculateDiscount`: ููุทู ุชุฎูู โ ุจุดุชุฑ ุงุฒ ณ ุฎุฑุฏ = ฑฐูช ุชุฎููุ ูฺฏุฑูู ุงูู ุจุง ฐูช.
* ุชู ุชุณุชโูุง โ ุฏุชุงุจุณ ู ุงูู ุฑู **mock** ฺฉุฑุฏ ฺฉู ูุงูุน ุงุฌุฑุง ูุดู ู ููุท ูุชุฌู ุฑู ุชุณุช ฺฉู.

---
---

## ๐ฌ ุงูพุฒูุฏ: Calculator Class

### 1. ฺุฑุง ฺฉูุงุณุ

ุชุง ุงูุฌุง ุจุดุชุฑ ุจุง ูุงูฺฉุดู ฺฉุงุฑ ูโฺฉุฑุฏู (ูุซู `getUserById` ุง `calculateDiscount`).
ูู ููุช ฺูุฏุชุง ุฑูุชุงุฑ (operation) ุจู ูู ูุฑุชุจุท ุจุงุดูุ ุจูุชุฑู ูููโุดูู ุฑู ุชู ฺฉ **ฺฉูุงุณ** ุฌูุน ฺฉูู.
ุงูุฌุง `Calculator` ู **ูุงุดู ุญุณุงุจ ุณุงุฏู**ู ฺฉู:

* ุฏู ุชุง ุนุฏุฏ (`a` ู `b`) ูโฺฏุฑู.
* ฺูุงุฑ ุนูู ุงุตู (ุฌูุนุ ุชูุฑูุ ุถุฑุจุ ุชูุณู) ุฑู ุฑู ุงููโูุง ุงูุฌุงู ูุฏู.

---

### 2. ฺฉุฏ ฺฉูุงุณ

```js
class Calculator {
  constructor(a, b) {
    this.a = a;
    this.b = b;
  }

  add() {
    return this.a + this.b;
  }
  sub() {
    return this.a - this.b;
  }
  div() {
    return this.a / this.b;
  }
  mul() {
    return this.a * this.b;
  }
}
```

* `constructor(a,b)` โ ููุช ููููู (instance) ูโุณุงุฒุ ุงู ุฏู ุชุง ุนุฏุฏ ุฐุฎุฑู ูุดู.
* `add()` โ ุฌูุน
* `sub()` โ ุชูุฑู
* `div()` โ ุชูุณู
* `mul()` โ ุถุฑุจ

ุงูุฌูุฑ ุชู ูพุฑูฺูโูุง ูุงูุน ูโุชูู ฺฉูุงุณ ุฑู ุจุงุฑูุง ุงุณุชูุงุฏู ฺฉูุ ุจุฏูู ุชฺฉุฑุงุฑ ฺฉุฏ.

---

### 3. ููุดุชู ุชุณุชโูุง

ุชู ุชุณุชโูุง ู ููููู ุงุฒ ฺฉูุงุณ ูโุณุงุฒู:

```js
let calculator;
beforeEach(() => {
  calculator = new Calculator(10, 5);
});
```

๐ ุญุงูุง ูโุชููู ุชูุงู ูุชุฏูุง ุฑู ุฑู ูููู instance ุชุณุช ฺฉูู.

---

### 4. ุชุณุชโูุง

```js
it("should have a and b property", () => {
  expect(calculator).toHaveProperty("a");
  expect(calculator).toHaveProperty("b");
});

it("add", () => {
  expect(calculator.add()).toBe(15); // 10 + 5
});

it("sub", () => {
  expect(calculator.sub()).toBe(5); // 10 - 5
});

it("mul", () => {
  expect(calculator.mul()).toBe(50); // 10 * 5
});

it("div", () => {
  expect(calculator.div()).toBe(2); // 10 / 5
});
```

* ุชุณุช ุงูู ูุทูุฆู ูุดู ฺฉูุงุณ ุฏุฑุณุช ุณุงุฎุชู ุดุฏู (`a` ู `b` ูุฌูุฏ ุฏุงุฑู).
* ูุฑ ูุชุฏ ุฌุฏุงฺฏุงูู ุชุณุช ุดุฏู โ ุงู ุจุงุนุซ ูุดู ููุช ู ูุชุฏ ุฎุฑุงุจ ุจุงุดูุ ููุท ูููู ุชุณุช fail ุจุดู.

---

### 5. ฺ ุงุฏ ฺฏุฑูุชุ

1. ูุฑู ูุงูฺฉุดู ู ฺฉูุงุณ โ ููุช ฺูุฏุชุง ุฑูุชุงุฑ ุจู ูู ูุฑุชุจุท ูุณุชูุ ุจูุชุฑู ฺฉูุงุณ ุจุณุงุฒ.
2. ุงุณุชูุงุฏู ุงุฒ **beforeEach** ุจุฑุง ุณุงุฎุชู instance ู ุฌููฺฏุฑ ุงุฒ ุชฺฉุฑุงุฑ ฺฉุฏ.
3. ุชุณุช ฺฉุฑุฏู ูุฑ ูุชุฏ ฺฉูุงุณ ุฌุฏุง ุฌุฏุง.
4. ุชุณุช propertyโูุง (ูุฌูุฏ `a` ู `b`) ู ุชุณุช ุฑูุชุงุฑ (ฺู ุฎุฑูุฌ ุจุงุฏ ุจุฏู).

---

### 6. ุงุฏู ุจุฑุง ุชูุฑู ุจุดุชุฑ

* ุชุณุช ฺฉู ููุช `b = 0` ุจุงุดูุ `div()` ฺู ูุชุฌูโุง ูุฏู (ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช `Infinity` ุจุฑูโฺฏุฑุฏููู).
* ู ูุชุฏ ุฌุฏุฏ `pow()` ุงุถุงูู ฺฉู (ูุซูุง `a^b`) ู ุจุฑุงุด ุชุณุช ุจููุณ.
* ุจุฑุง ูุฑูุฏโูุง ููู ูู ุชุณุช ุจููุณ.

---

๐ ุงู ุงูพุฒูุฏ ุจูุช ุงุฏ ุฏุงุฏ ฺุทูุฑ ฺฉูุงุณ ุจุณุงุฒุ ูุชุฏูุงุดู ุชุณุช ฺฉู ู ุงุฒ Jest ุจุฑุง ฺฺฉ ฺฉุฑุฏู ุฑูุชุงุฑูุง ูุฎุชูู ุงุณุชูุงุฏู ฺฉู.
ุนู ฺฉ ูุฏู ูุฒุฏฺฉโุชุฑ ุดุฏ ุจู **ุชุณุชโููุณ ุดโุกฺฏุฑุง (OOP Testing)**.